# Base URL

Understanding the base URL is essential for making requests to the Star Wars API. The base URL differs between environments.

<div className="grid gap-6 md:grid-cols-2 mb-12 sm:mb-24">
  <Card>
    <CardHeader>
      <div className="flex items-center gap-2 mb-2">
        <Badge variant="success">Production</Badge>
      </div>
      <CardTitle className="text-lg">Live API</CardTitle>
      <CardDescription>Use this URL for production apps</CardDescription>
    </CardHeader>
    <CardContent>
      <code className="block rounded px-4 py-3 text-sm text-green-400">
        https://sw-next-api.vercel.app
      </code>
    </CardContent>
  </Card>

  <Card>
    <CardHeader>
      <div className="flex items-center gap-2 mb-2">
        <Badge variant="info">Development</Badge>
      </div>
      <CardTitle className="text-lg">Local Server</CardTitle>
      <CardDescription>Use when running locally</CardDescription>
    </CardHeader>
    <CardContent>
      <code className="block rounded px-4 py-3 text-sm text-blue-400">
        http://localhost:3000
      </code>
    </CardContent>
  </Card>
</div>

## API Versioning

All endpoints are prefixed with `/api/v1/` for version control.

<Card className="mb-12 sm:mb-24">
  <CardHeader>
    <div className="flex items-center justify-between">
      <CardTitle className="text-lg">Current Version</CardTitle>
      <Badge>v1</Badge>
    </div>
    <CardDescription>
      All endpoints in this documentation use version 1
    </CardDescription>
  </CardHeader>
  <CardContent>
    <div className="grid gap-2 text-sm">
      <code className="text-zinc-600 dark:text-zinc-400">/api/v1/people</code>
      <code className="text-zinc-600 dark:text-zinc-400">/api/v1/films</code>
      <code className="text-zinc-600 dark:text-zinc-400">/api/v1/planets</code>
      <code className="text-zinc-600 dark:text-zinc-400">/api/v1/species</code>
      <code className="text-zinc-600 dark:text-zinc-400">/api/v1/starships</code>
      <code className="text-zinc-600 dark:text-zinc-400">/api/v1/vehicles</code>
    </div>
  </CardContent>
</Card>

## Constructing URLs

<Card className="mb-12 sm:mb-24">
  <CardHeader>
    <CardTitle className="text-lg">URL Structure</CardTitle>
    <CardDescription>Build complete API URLs in 4 steps</CardDescription>
  </CardHeader>
  <CardContent className="space-y-4">
    <div className="space-y-2">
      <div className="flex items-center gap-2">
        <Badge variant="default">1</Badge>
        <span className="text-sm font-medium">Base URL</span>
      </div>
      <code className="block text-sm text-zinc-600 dark:text-zinc-400">
        https://sw-next-api.vercel.app
      </code>
    </div>

    <div className="space-y-2">
      <div className="flex items-center gap-2">
        <Badge variant="default">2</Badge>
        <span className="text-sm font-medium">Version prefix</span>
      </div>
      <code className="block text-sm text-zinc-600 dark:text-zinc-400">
        /api/v1/
      </code>
    </div>

    <div className="space-y-2">
      <div className="flex items-center gap-2">
        <Badge variant="default">3</Badge>
        <span className="text-sm font-medium">Resource path</span>
      </div>
      <code className="block text-sm text-zinc-600 dark:text-zinc-400">
        people
      </code>
    </div>

    <div className="space-y-2">
      <div className="flex items-center gap-2">
        <Badge variant="default">4</Badge>
        <span className="text-sm font-medium">Query parameters (optional)</span>
      </div>
      <code className="block text-sm text-zinc-600 dark:text-zinc-400">
        ?isJedi=true&expand=homeworld
      </code>
    </div>

    <div className="mt-6 rounded-lg bg-green-50 p-4 dark:border-green-900 dark:bg-green-950/20">
      <div className="text-sm font-medium text-green-900 dark:text-green-400 mb-2">
        Complete URL:
      </div>
      <code className="block text-sm text-green-700 dark:text-green-300 break-all">
        https://sw-next-api.vercel.app/api/v1/people?isJedi=true&expand=homeworld
      </code>
    </div>
  </CardContent>
</Card>

## Quick Examples

<Tabs defaultValue="simple" className="mb-12 sm:mb-24">
  <TabsList>
    <TabsTrigger value="simple">Simple</TabsTrigger>
    <TabsTrigger value="single">Single Item</TabsTrigger>
    <TabsTrigger value="query">With Params</TabsTrigger>
  </TabsList>

  <TabsContent value="simple">
    <div className="text-sm text-zinc-600 dark:text-zinc-400 mb-4">
      Get a list of all people (paginated)
    </div>
    ```bash
    GET https://sw-next-api.vercel.app/api/v1/people
    ```
  </TabsContent>

  <TabsContent value="single">
    <div className="text-sm text-zinc-600 dark:text-zinc-400 mb-4">
      Get a specific person by ID or slug
    </div>
    ```bash
    GET https://sw-next-api.vercel.app/api/v1/people/1
    ```
  </TabsContent>

  <TabsContent value="query">
    <div className="text-sm text-zinc-600 dark:text-zinc-400 mb-4">
      Find all Jedi with expanded homeworld data
    </div>
    ```bash
    GET https://sw-next-api.vercel.app/api/v1/people?isJedi=true&expand=homeworld
    ```
  </TabsContent>
</Tabs>

## Client Configuration

### TypeScript/JavaScript

Create a reusable API configuration:

```typescript
// config/api.ts
export const API_CONFIG = {
  baseURL: process.env.NEXT_PUBLIC_API_URL || 'https://sw-next-api.vercel.app',
  version: 'v1',
} as const;

export function getApiUrl(path: string): string {
  return `${API_CONFIG.baseURL}/api/${API_CONFIG.version}${path}`;
}

// Usage
const url = getApiUrl('/people?isJedi=true');
// Result: https://sw-next-api.vercel.app/api/v1/people?isJedi=true
```

### Environment Variables

<Card className="mb-12 sm:mb-24">
  <CardHeader>
    <CardTitle className="text-lg">Environment Setup</CardTitle>
    <CardDescription>Configure base URL per environment</CardDescription>
  </CardHeader>
  <CardContent className="space-y-4">
    <div>
      <p className="text-sm font-medium mb-2">Local development (.env.local)</p>
      ```bash
      NEXT_PUBLIC_API_URL=http://localhost:3000
      ```
    </div>

    <div>
      <p className="text-sm font-medium mb-2">Production (.env.production)</p>
      ```bash
      NEXT_PUBLIC_API_URL=https://sw-next-api.vercel.app
      ```
    </div>

    <div>
      <p className="text-sm font-medium mb-2">Use in your code</p>
      ```typescript
      const BASE_URL = process.env.NEXT_PUBLIC_API_URL;
      const response = await fetch(`${BASE_URL}/api/v1/people`);
      ```
    </div>
  </CardContent>
</Card>

### Fetch Wrapper

Create a wrapper for cleaner, reusable API calls:

```typescript
// lib/api.ts
const BASE_URL = 'https://sw-next-api.vercel.app/api/v1';

export async function apiRequest<T>(
  endpoint: string,
  options?: RequestInit
): Promise<T> {
  const url = `${BASE_URL}${endpoint}`;

  const response = await fetch(url, {
    ...options,
    headers: {
      'Content-Type': 'application/json',
      ...options?.headers,
    },
  });

  if (!response.ok) {
    throw new Error(`API request failed: ${response.statusText}`);
  }

  return response.json();
}

// Usage
import { apiRequest } from '@/lib/api';

const people = await apiRequest('/people?isJedi=true');
const luke = await apiRequest('/people/1?expand=homeworld');
```

## Important Notes

<div className="grid gap-4 mb-12 sm:mb-16">
  <Card className="border-blue-200 bg-blue-50/50 dark:border-blue-900 dark:bg-blue-950/20">
    <CardContent className="pt-6">
      <div className="flex gap-3">
        <Badge variant="info">CORS</Badge>
        <div className="flex-1">
          <div className="text-sm text-zinc-700 dark:text-zinc-300">
            The API supports Cross-Origin Resource Sharing. You can make requests from web apps, browser extensions, and client-side JavaScript without additional configuration.
          </div>
        </div>
      </div>
    </CardContent>
  </Card>

  <Card className="border-green-200 bg-green-50/50 dark:border-green-900 dark:bg-green-950/20">
    <CardContent className="pt-6">
      <div className="flex gap-3">
        <Badge variant="success">HTTPS</Badge>
        <div className="flex-1">
          <div className="text-sm text-zinc-700 dark:text-zinc-300">
            Production API only accepts HTTPS requests. HTTP requests will be automatically redirected to HTTPS for security.
          </div>
        </div>
      </div>
    </CardContent>
  </Card>

  <Card className="border-yellow-200 bg-yellow-50/50 dark:border-yellow-900 dark:bg-yellow-950/20">
    <CardContent className="pt-6">
      <div className="flex gap-3">
        <Badge variant="warning">Rate Limiting</Badge>
        <div className="flex-1">
          <div className="text-sm text-zinc-700 dark:text-zinc-300">
            Currently no rate limiting is enforced. Please be respectful: avoid excessive requests, use pagination appropriately, and cache responses when possible.
          </div>
        </div>
      </div>
    </CardContent>
  </Card>
</div>

## Testing with cURL

Quick test commands for your terminal:

```bash
# Basic request
curl "https://sw-next-api.vercel.app/api/v1/people"

# With query parameters
curl "https://sw-next-api.vercel.app/api/v1/people?isJedi=true&expand=homeworld"

# Pretty print JSON (requires jq)
curl "https://sw-next-api.vercel.app/api/v1/people/1" | jq
```
